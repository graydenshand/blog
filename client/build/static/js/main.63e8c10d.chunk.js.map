{"version":3,"sources":["components/Navbar/Nav.js","components/Navbar/Navbar.js","components/Loading.js","components/Post/Post.js","utilities/Auth.js","components/Feed.js","components/Editor/DraftCard.js","components/Editor/DraftList.js","components/Editor/SaveControl.js","components/Editor/DeleteControl.js","components/Editor/PublishControl.js","components/Editor/NewControl.js","components/Editor/EditorControls.js","components/Editor/Editor.js","components/Login.js","components/Post/PostContainer.js","components/App.js","index.js"],"names":["Nav","props","display_nav","className","href","Navbar","id","Loading","state","data","timeout","this","setTimeout","alert","clearTimeout","Component","Post","post","post_id","post_title","fromNow","post_created_at","dangerouslySetInnerHTML","__html","post_body","withRouter","Auth","Cookies","get","getJSON","token","callback","r","XMLHttpRequest","open","window","location","host","params","setRequestHeader","send","onreadystatechange","readyState","DONE","status","result","JSON","parse","responseText","Feed","posts","loadPosts","bind","oReq","x","get_token","setState","map","index","key","DraftCard","handleSelect","e","value","preventDefault","select","post_published","onClick","selected","style","marginBottom","date","DraftList","handleChangeSelected","SaveControl","width","height","backgroundColor","color","cursor","title","save","aria-hidden","focusable","data-prefix","data-icon","role","xmlns","viewBox","fill","d","DeleteControl","deletePost","PublishControl","published","unPublish","publish","NewControl","newPost","class","EditorControls","new","Editor","text","ready","selectedIndex","handleBodyChange","modules","toolbar","formats","login_redirect","handleTitleChange","updatePost","Array","from","matchAll","forEach","match","createPost","base64","oldSrc","responseType","console","log","response","replace","event","target","i","length","id_to_delete","filter","unshift","resp_post","splice","flashMessage","login_required","onChange","rows","placeholder","border","fontSize","lineHeight","marginTop","textDecoration","LoginForm","parsed","queryString","search","redirect","handleSubmit","email","document","querySelector","pw","resp","Object","keys","includes","set","expires","path","user","container","innerHTML","msg","createTextNode","error","appendChild","fontWeight","type","PostContainer","post_to_return","selectPost","App","messages","removeFlashedMessage","message","current_messages","push","pop","Login","children","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.63e8c10d.chunk.js","sourcesContent":["import React from 'react';\n//import { Link } from \"react-router-dom\";\nimport './Navbar.css'\n\nconst Nav = (props) => {\n\tif (props.display_nav != false ) {\n\t\treturn (\n\t\t\t<div className=\"row\">\n\t\t\t\t<div className=\"col-sm-6 offset-sm-3\">\n\t\t\t\t\t<ul className=\"d-flex flex-row justify-content-around\">\n\t\t\t\t\t\t<li><a href=\"#\">subscribe</a></li>\n\t\t\t\t\t\t<li><a href=\"#\">archive</a></li>\n\t\t\t\t\t\t<li><a href=\"#\">get in touch</a></li>\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default Nav;","import React from 'react';\n//import { Link } from \"react-router-dom\";\nimport './Navbar.css'\nimport Nav from './Nav';\n\nconst Navbar = (props) => {\n\treturn (\n\t\t<div className='container' id='navbar'>\n\t\t\t<div className=\"row\">\n\t\t\t\t<div className=\"col-sm-6 offset-sm-3\">\n\t\t\t\t\t<p><a href=\"/\">Grayden's Blog</a></p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{props.display_nav == false ? '' : <Nav />}\n\t\t</div>\n\t)\n}\n\nexport default Navbar;","import React, { Component } from 'react';\nimport Navbar from './Navbar/Navbar';\n\n\nclass Loading extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tdata: ''\n\t\t}\n\t\tthis.timeout = 'test';\n\t}\n\t\n\tcomponentDidMount() {\n\t\tthis.timeout = setTimeout(() => {\n\t\t\talert(\"Error: request timeout\")\n\t\t}, 5000)\n\t}\n\n\tcomponentWillUnmount() {\n\t\tclearTimeout(this.timeout);\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<div className='row'>\n\t\t\t\t\t<div className=\"loader offset-5\"></div> \n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default Loading;","import React, {Component}from 'react';\nimport {withRouter} from \"react-router\";\nimport Moment from \"react-moment\";\nimport Loading from '../Loading';\nimport './Post.css';\n\nclass Post extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<div className=\"media post\">\n\t\t\t\t  <div className=\"media-body\">\n\t\t\t\t    <h1 className=\"mt-0 post-title\"><a href={`/p/${this.props.post ? this.props.post.post_id : ''}`}>{this.props.post ? this.props.post.post_title : ''}</a></h1>\n\t\t\t\t    <Moment fromNow>{this.props.post ? this.props.post.post_created_at : ''}</Moment>\n\t\t\t\t    <div dangerouslySetInnerHTML={this.props.post ? {__html: this.props.post.post_body} : {__html: ''}} className=\"post-body\"></div>\n\t\t\t\t  </div>\n\t\t\t\t</div>\n\t\t\t\t<br />\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n\n\nexport default withRouter(Post);","import Cookies from \"js-cookie\";\n\nclass Auth {\n\tget_token() {\n\t\treturn Cookies.get(\"authToken\");\n\t}\n\n\tget_user() {\n\t\treturn Cookies.getJSON('user');\n\t}\n\n\tlogin_required(token, callback) {\n\t\tvar r = new XMLHttpRequest();\n\t    r.open(\"POST\", `http://${window.location.host}:5000/v1/validate_token`);\n\t    let params = `token=${token}`\n\t    r.setRequestHeader(\"Content-Type\", 'application/x-www-form-urlencoded')\n\t    r.send(params);\n\n\t    r.onreadystatechange = () => {\n\t      if(r.readyState === XMLHttpRequest.DONE && r.status === 200) {\n\t         var result = JSON.parse(r.responseText).result\n\t         if(callback) callback(result);\n\t      }\n\t    }\n\t}\n\n}\n\nexport default Auth;","import React, { Component } from 'react';\nimport Post from './Post/Post';\nimport Auth from '../utilities/Auth';\nimport Navbar from './Navbar/Navbar'\n\nclass Feed extends Component {\n  /*\n  Component to render a stream of posts\n\n  */\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      posts: [],\n    };\n    this.loadPosts = this.loadPosts.bind(this);\n  }\n\n  loadPosts() {\n    var oReq = new XMLHttpRequest();\n    var x = new Auth();\n    oReq.open(\"GET\", `http://${window.location.host}:5000/v1/p/?publishedOnly=True`);\n    oReq.setRequestHeader('X-Auth-Token', x.get_token())\n    oReq.send();\n\n    oReq.onreadystatechange = () => {\n      if(oReq.readyState === XMLHttpRequest.DONE && oReq.status === 200) {\n          var posts = JSON.parse(oReq.responseText).result;\n          this.setState({'posts':posts});\n      }\n    }\n  }\n\n\trender() {\n    return (\n      <div>\n        <Navbar />\n        <br />\n        <div className='col-xs-12 col-sm-10 offset-sm-1 col-md-8 offset-md-2 col-lg-6 offset-lg-3'>\n      \t  <div>\n              {\n                this.props.posts.map ( (post, index) =>\n                <div>\n                <Post \n                  posts={this.props.posts}\n                  post={post}\n                  key={post.post_id}\n                />\n                </div>\n              )}\n            </div>\n        </div>\n      </div>\n\t )};\n}\n\n\n\nexport default Feed;","import React, {Component} from 'react';\nimport Moment from \"react-moment\";\n\nclass DraftCard extends Component{\n\n  constructor(props){\n    super(props);\n    this.handleSelect = this.handleSelect.bind(this)\n  }\n\n  handleSelect(e, value) {\n    e.preventDefault();\n    return this.props.select(value)\n  }\n\n  render(){\n    if (this.props.post.post_published == true) {\n      return (\n          <a className=\"draft-card-link\" href=\"\" onClick={(e) => this.handleSelect(e, this.props.post.post_id)}>\n          <div className={this.props.selected ? \"draft-card draft-card-selected\" : \"draft-card draft-card-published\"}>\n            <b>{this.props.post.post_title}</b>\n            <p className=\"text-muted\" style={{marginBottom: 0}}><Moment date={this.props.post.post_created_at} fromNow /></p>\n          </div></a>\n      )\n    } else {\n      return (\n          <a className=\"draft-card-link\" href=\"\" onClick={(e) => this.handleSelect(e, this.props.post.post_id)}>\n          <div className={this.props.selected ? \"draft-card draft-card-selected\" : \"draft-card\"}>\n            <b>{this.props.post.post_title}</b>\n            <p className=\"text-muted\" style={{marginBottom: 0}}><Moment date={this.props.post.post_created_at} fromNow /></p>\n          </div></a>\n      )\n    }\n  }\n}\n\n\nexport default DraftCard;\n","import React, {Component} from 'react';\nimport ReactQuill from \"react-quill\"\nimport 'react-quill/dist/quill.snow.css'\nimport Moment from \"react-moment\";\nimport DraftCard from \"./DraftCard\";\n\nclass DraftList extends Component{\n\n  constructor(props){\n    super(props);\n    this.handleChangeSelected = this.handleChangeSelected.bind(this);\n  }\n\n  handleChangeSelected(value) {\n    return this.props.select(value)\n  } \n\n  componentDidMount(){\n  }\n\n  render(){\n    return (\n      this.props.posts.map((post, index) => \n        <DraftCard post={post} key={post.post_id} selected={this.props.selected==post.post_id} select={this.handleChangeSelected}/>\n      )\n    ) \n  }\n}\n\nexport default DraftList;\n","import React from 'react';\n\n\nfunction SaveControl(props) {\n\n\tconst style = {\n\t\twidth: props.width,\n\t\theight: props.width,\n\t\tbackgroundColor: props.backgroundColor ? props.backgroundColor : null,\n\t\tcolor: props.color ? props.color : '#000',\n\t\tcursor: 'pointer'\n\t}\n\treturn (\n\t\t<span className=\"save-control control\" title=\"Save\">\n\t\t\t<svg onClick={props.save} style={style} aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"save\" className=\"svg-inline--fa fa-save fa-w-14 control-icon\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 448 512\"><path fill=\"currentColor\" d=\"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z\"></path></svg>\n\t\t</span>\n\t)\n}\n\nexport default SaveControl;","import React from 'react';\n\n\nfunction DeleteControl(props) {\n\n\tconst style = {\n\t\twidth: props.width,\n\t\theight: props.width,\n\t\tbackgroundColor: props.backgroundColor ? props.backgroundColor : null,\n\t\tcolor: props.color ? props.color : '#000',\n\t\tcursor: 'pointer'\n\t}\n\treturn (\n\t\t<span className=\"delete-control control\" title=\"Delete\">\n\t\t\t<svg onClick={props.deletePost} style={style} aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"trash-alt\" className=\"svg-inline--fa fa-trash-alt fa-w-14 control-icon\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 448 512\"><path fill=\"currentColor\" d=\"M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z\"></path></svg>\n\t\t</span>\n\t)\n}\n\nexport default DeleteControl;","import React from 'react';\n\n\nfunction PublishControl(props) {\n\n\tconst style = {\n\t\twidth: props.width,\n\t\theight: props.width,\n\t\tcursor: 'pointer',\n\t}\n\n\tif (!props.published) {\n\t\treturn (\n\t\t\t<span className=\"publish-control control\" title=\"Make Public\">\n\t\t\t\t<svg onClick={props.publish} style={style} aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"rss\" className=\"svg-inline--fa fa-rss fa-w-14 control-icon\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 448 512\"><path fill=\"currentColor\" d=\"M128.081 415.959c0 35.369-28.672 64.041-64.041 64.041S0 451.328 0 415.959s28.672-64.041 64.041-64.041 64.04 28.673 64.04 64.041zm175.66 47.25c-8.354-154.6-132.185-278.587-286.95-286.95C7.656 175.765 0 183.105 0 192.253v48.069c0 8.415 6.49 15.472 14.887 16.018 111.832 7.284 201.473 96.702 208.772 208.772.547 8.397 7.604 14.887 16.018 14.887h48.069c9.149.001 16.489-7.655 15.995-16.79zm144.249.288C439.596 229.677 251.465 40.445 16.503 32.01 7.473 31.686 0 38.981 0 48.016v48.068c0 8.625 6.835 15.645 15.453 15.999 191.179 7.839 344.627 161.316 352.465 352.465.353 8.618 7.373 15.453 15.999 15.453h48.068c9.034-.001 16.329-7.474 16.005-16.504z\"></path></svg>\n\t\t\t</span>\n\t\t)\n\t} else {\n\t\tstyle.backgroundColor = '#000';\n\t\tstyle.color = '#FFF';\n\t\treturn (\n\t\t\t<span className=\"unpublish-control control\" title=\"Make Private\">\n\t\t\t\t<svg onClick={props.unPublish} style={style} aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"rss\" className=\"svg-inline--fa fa-rss fa-w-14 control-icon\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 448 512\"><path fill=\"currentColor\" d=\"M128.081 415.959c0 35.369-28.672 64.041-64.041 64.041S0 451.328 0 415.959s28.672-64.041 64.041-64.041 64.04 28.673 64.04 64.041zm175.66 47.25c-8.354-154.6-132.185-278.587-286.95-286.95C7.656 175.765 0 183.105 0 192.253v48.069c0 8.415 6.49 15.472 14.887 16.018 111.832 7.284 201.473 96.702 208.772 208.772.547 8.397 7.604 14.887 16.018 14.887h48.069c9.149.001 16.489-7.655 15.995-16.79zm144.249.288C439.596 229.677 251.465 40.445 16.503 32.01 7.473 31.686 0 38.981 0 48.016v48.068c0 8.625 6.835 15.645 15.453 15.999 191.179 7.839 344.627 161.316 352.465 352.465.353 8.618 7.373 15.453 15.999 15.453h48.068c9.034-.001 16.329-7.474 16.005-16.504z\"></path></svg>\n\t\t\t</span>\n\t\t)\n\t}\n}\n\nexport default PublishControl;","import React from 'react';\n\n\nfunction NewControl(props) {\n\n\tconst style = {\n\t\twidth: props.width,\n\t\theight: props.width,\n\t\tbackgroundColor: props.backgroundColor ? props.backgroundColor : null,\n\t\tcolor: props.color ? props.color : '#000',\n\t\tcursor: 'pointer'\n\t}\n\treturn (\n\t\t<span className=\"new-control control\" title=\"New\">\n\t\t\t<svg onClick={props.newPost} style={style} aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"plus\" class=\"svg-inline--fa fa-plus fa-w-14 control-icon\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 448 512\"><path fill=\"currentColor\" d=\"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z\"></path></svg>\n\t\t</span>\n\t)\n}\n\nexport default NewControl;","import React, {Component} from 'react';\nimport './Editor.css';\nimport SaveControl from './SaveControl';\nimport DeleteControl from './DeleteControl';\nimport PublishControl from './PublishControl';\nimport NewControl from './NewControl';\n\nclass EditorControls extends Component{\n\n  constructor(props){\n    super(props);\n  }\n  \n  componentDidMount(){  \n  }\n\n  render(){\n    if (this.props.new == null) {\n      return (\n        <div className=\"editor-controls\">\n          <NewControl newPost={this.props.newPost} width='50px' />\n        </div>\n        )\n    } else {\n      return (\n        <div className=\"editor-controls\">\n          <NewControl newPost={this.props.newPost} width='50px' />\n          <SaveControl width='50px' save={this.props.save} />\n          <PublishControl width='50px' publish={this.props.publish} unPublish={this.props.unPublish} published={this.props.published} />\n          <DeleteControl deletePost={this.props.deletePost} width='50px' />\n        </div>\n      )\n    }\n  }\n}\n\nexport default EditorControls;\n","import React, {Component} from 'react';\nimport ReactQuill from \"react-quill\"\nimport 'react-quill/dist/quill.snow.css'\nimport {withRouter} from \"react-router\";\nimport Auth from '../../utilities/Auth';\nimport Loading from '../Loading';\nimport DraftList from './DraftList';\nimport quill from 'quill';\nimport Navbar from '../Navbar/Navbar';\nimport EditorControls from'./EditorControls';\nimport './Editor.css';\n\nclass Editor extends Component{\n\n  constructor(props){\n    super(props);\n    this.state = {\n      text: \"\", // text of selected post\n      ready: false, // loading controller -- spinning wheel until posts are loaded\n      title: \"\", // title of selected post \"Untitled\" by default\n      posts: null, // array of posts from db\n      selected: null, // selected post_id\n      selectedIndex: null, // position of selected post in post array\n      new: null, // flag to control POST vs PUT requests\n      published: null, // flag to control publish vs unpublish button\n    };\n    this.handleBodyChange = this.handleBodyChange.bind(this);\n    this.save = this.save.bind(this);\n    this.publish = this.publish.bind(this);\n    this.unPublish = this.unPublish.bind(this);\n    this.modules = { toolbar: [\n        [{ 'header': [1, 2, false] }],\n        ['bold', 'italic', 'underline', 'strike', 'blockquote', 'code-block'],\n        [{ 'list': 'ordered' }, { 'list': 'bullet' }, { 'indent': '-1' }, { 'indent': '+1' }],\n        ['link', 'image']\n      ],\n    };\n \n    this.formats = [\n      'header',\n      'bold', 'italic', 'underline', 'strike', 'blockquote', 'code-block',\n      'list', 'bullet', 'indent',\n      'link', 'image'\n    ]\n\n    this.login_redirect = this.login_redirect.bind(this);\n    this.loadPosts = this.loadPosts.bind(this);\n    this.handleChangeSelected = this.handleChangeSelected.bind(this);\n    this.handleTitleChange = this.handleTitleChange.bind(this);\n    this.deletePost = this.deletePost.bind(this);\n    this.newPost = this.newPost.bind(this);\n    this.updatePost = this.updatePost.bind(this);\n  }\n  \n  handleBodyChange(value){\n    //console.log(value);\n    let re = /<img src=\"(data:image\\/.+?;base64,(.*?))\">/g;\n    var images = Array.from(value.matchAll(re))\n    images.forEach((match, index) => {\n      if (this.state.new) {\n        this.createPost();\n      }\n      // save image to S3, return public link, update src attribute\n      var base64 = match[2]\n      var oldSrc = match[1]\n      var r = new XMLHttpRequest();\n      var x = new Auth();\n      r.open(\"POST\", `http://${window.location.host}:5000/v1/i/`);\n      r.setRequestHeader('X-Auth-Token', x.get_token())\n      r.setRequestHeader('Content-Type', \"application/x-www-form-urlencoded\")\n      r.responseType = 'json';\n      var params = `post_id=${this.state.selected}&payload=${base64}`\n      r.send(params);\n      console.log('send')\n      r.onreadystatechange = () => {\n        if(r.readyState === XMLHttpRequest.DONE && r.status === 200) {\n          //console.log(r.responseText)\n          if (r.response != null) {\n            var result = r.response.result;\n            value = value.replace(oldSrc, result) // replace stock photo with s3 link\n            this.setState({text: value});\n          }\n        }\n      }\n    });\n    this.setState({text: value})\n  }\n\n  uploadImage(base64) {\n\n  }\n\n  handleTitleChange(event) {\n    this.setState({\"title\": event.target.value})\n  }\n\n  handleChangeSelected(post_id) {\n    var i = 0;\n    var selectedIndex = null;\n    for (i=0; i<this.state.posts.length; i++) {\n      if (this.state.posts[i].post_id == post_id) {\n        selectedIndex = i;\n        this.setState({selected: post_id, selectedIndex: i,'new': false})\n      }\n    }\n    this.setState({text: this.state.posts[selectedIndex].post_body, title: this.state.posts[selectedIndex].post_title, published: this.state.posts[selectedIndex].post_published})\n  }\n\n  deletePost() {\n    var r = new XMLHttpRequest();\n    var x = new Auth();\n    r.open(\"DELETE\", `http://${window.location.host}:5000/v1/p/${this.state.selected}`);\n    r.setRequestHeader('X-Auth-Token', x.get_token())\n    r.send();\n    var id_to_delete = this.state.selected\n    var posts = this.state.posts;\n    r.onreadystatechange = () => {\n      if(r.readyState === XMLHttpRequest.DONE && r.status === 200) {        \n        posts = posts.filter(function(post) {\n          return post.post_id != id_to_delete;\n        })\n        this.setState({posts:posts, text:'', title:\"\", new:null})\n      } \n    }\n  }\n\n  createPost() {\n    var r = new XMLHttpRequest();\n    var x = new Auth();\n    r.open(\"POST\", `http://${window.location.host}:5000/v1/p/`);\n    r.setRequestHeader('X-Auth-Token', x.get_token())\n    r.setRequestHeader(\"Content-Type\", \"application/x-www-form-urlencoded\");\n    if (this.state.title == \"\") {\n      var title = 'Untitled'\n    } else {\n      var title = this.state.title\n    }\n    var params = `post_body=${this.state.text}&post_title=${title}`\n\n    r.send(params);\n    var posts = this.state.posts;\n    r.onreadystatechange = () => {\n      if(r.readyState === XMLHttpRequest.DONE && r.status === 200) {\n        var post = JSON.parse(r.responseText).result\n        posts.unshift(post); // insert at index 0\n        this.setState({\"posts\": posts, \"selected\": post.post_id, \"selectedIndex\": 0, new: false})\n      }\n    }\n  }\n\n  updatePost() {\n    var r = new XMLHttpRequest();\n    var x = new Auth();\n    r.open(\"PUT\", `http://${window.location.host}:5000/v1/p/${this.state.selected}`);\n    r.setRequestHeader(\"Content-Type\", \"application/x-www-form-urlencoded\");\n    r.setRequestHeader('X-Auth-Token', x.get_token())\n    if (this.state.title == \"\") {\n      var title = 'Untitled'\n    } else {\n      var title = this.state.title\n    }\n    var params = `post_body=${this.state.text}&post_title=${title}`\n\n    r.send(params);\n    var posts = this.state.posts;\n    r.onreadystatechange = () => {\n      if(r.readyState === XMLHttpRequest.DONE && r.status === 200) {\n        var resp_post = JSON.parse(r.responseText).result;\n        posts.splice(this.state.selectedIndex, 1, resp_post)\n        this.setState({posts: posts})\n      }\n    }\n  }\n\n  save(){\n    if (this.state.new) {\n      //console.log(\"Post request: new post\");\n      this.createPost()\n    } else {\n      //console.log(\"Put request: existing post\")\n      this.updatePost()\n    }\n    this.props.flashMessage(\"Post saved\")\n  }\n\n  publish(value){ // save and publish post\n    this.save(); // because it could be a new post\n    var r = new XMLHttpRequest();\n    var x = new Auth();\n    r.open(\"PUT\", `http://${window.location.host}:5000/v1/p/${this.state.selected}`);\n    r.setRequestHeader('X-Auth-Token', x.get_token())\n    r.setRequestHeader(\"Content-Type\", \"application/x-www-form-urlencoded\");\n    var params = `post_published=true`\n    r.send(params);\n    var posts = this.state.posts;\n    r.onreadystatechange = () => {\n      if(r.readyState === XMLHttpRequest.DONE && r.status === 200) {\n        var resp_post = JSON.parse(r.responseText).result;\n        posts.splice(this.state.selectedIndex, 1, resp_post)\n        this.setState({posts: posts, published: true})\n      }\n    }\n\n    console.log(this.state.title, this.state.text);\n  }\n\n  unPublish(value){ \n  // un-publish a post and hide it from public view\n    var r = new XMLHttpRequest();\n    var x = new Auth();\n    r.open(\"PUT\", `http://${window.location.host}:5000/v1/p/${this.state.selected}`);\n    r.setRequestHeader(\"Content-Type\", \"application/x-www-form-urlencoded\");\n    r.setRequestHeader('X-Auth-Token', x.get_token())\n    var params = `post_published=false`\n    r.send(params);\n    console.log(params, this.state.selected)\n    var posts = this.state.posts;\n    r.onreadystatechange = () => {\n      if(r.readyState === XMLHttpRequest.DONE && r.status === 200) {\n        var resp_post = JSON.parse(r.responseText).result;\n        posts.splice(this.state.selectedIndex, 1, resp_post)\n        this.setState({posts: posts, published:false})\n      }\n    }\n\n    console.log(this.state.title, this.state.text);\n  }\n\n  login_redirect(result) {\n    if (result != true) {\n      window.location.href = '/login?redirect=/editor'\n    } \n  } \n\n  loadPosts() {\n    var oReq = new XMLHttpRequest();\n    var x = new Auth();\n    oReq.open(\"GET\", `http://${window.location.host}:5000/v1/p/`);\n    oReq.setRequestHeader('X-Auth-Token', x.get_token())\n    oReq.send();\n\n    oReq.onreadystatechange = () => {\n      if(oReq.readyState === XMLHttpRequest.DONE && oReq.status === 200) {\n          var posts = JSON.parse(oReq.responseText).result;\n          console.log(posts);\n          this.setState({'posts':posts, 'ready':true});\n      }\n    }\n  }\n\n  newPost() {\n    this.setState({selected:null, text:\"\", title: \"\", new:true, published:false}, this.createPost)  \n  }\n\n  componentDidMount(){\n    var x = new Auth()\n    x.login_required(x.get_token(), this.login_redirect)\n    var posts = this.loadPosts()   \n  }\n\n\n  render(){\n    if (this.state.ready == false) {\n      return <Loading />\n    } else {\n      return (\n        <div>\n          <Navbar display_nav={false}/>\n          <br />\n          <div className=\"row\">\n            <div className=\"col-sm-3\">\n              <DraftList posts={this.state.posts} selected={this.state.selected} select={this.handleChangeSelected}/>\n            </div>\n            <div className='col-sm-6'>\n              {this.state.new != null ?\n              <div>\n                <div>\n                  <textarea id=\"title_input\" value={this.state.title} onChange={this.handleTitleChange} className=\"form-control\" rows=\"1\" placeholder=\"Untitled\" style={{border: \"none\", fontSize: 32, marginBottom: 5, lineHeight: \"100%\"}}/>\n                </div>\n                  \n                <div> \n                  <ReactQuill value={this.state.text}\n                    modules={this.modules}\n                    formats={this.formats}\n                    onChange={this.handleBodyChange} />\n                  <br /> \n                  </div>\n                </div>\n                : <div className=\"text-center align-middle\" style={{height: \"300px\", marginTop: \"3em\"}}><p className=\"lead\">Select a post or click <a onClick={this.newPost} style={{textDecoration: \"underline\", cursor: \"pointer\"}}>New</a> to start editing</p></div>}\n              </div>\n            <div className=\"col-sm-3\">\n                  <EditorControls \n                    new={this.state.new}\n                    published={this.state.published} \n                    publish={this.publish}\n                    unPublish={this.unPublish}\n                    save={this.save}\n                    newPost={this.newPost}\n                    deletePost={this.deletePost}\n                  />\n            </div>\n          </div>\n        </div>\n      )\n    }\n  }\n}\n\nexport default withRouter(Editor);\n","import React, {Component} from 'react';\nimport Cookies from \"js-cookie\";\nimport queryString from 'query-string';\nimport Navbar from './Navbar/Navbar';\n\nclass LoginForm extends Component {\n\n\tconstructor(props) {\n\t    super(props);\n\t    this.state = {\n\t  \t\t\"email\": \"\"\n\t    };\n\t    const parsed = queryString.parse(window.location.search);\n\t\tif (parsed != null & parsed.redirect != null) {\n\t\t\tthis.redirect = parsed.redirect\n\t\t} else {\n\t\t\tthis.redirect = '/'\n\t\t}\n\t\tthis.handleSubmit = this.handleSubmit.bind(this)\n\t }\n\n\thandleSubmit() {\n\t\tlet email = document.querySelector('#email').value;\n\t\tlet pw = document.querySelector('#pw').value;\n\t\tvar r = new XMLHttpRequest();\n\t    r.open(\"POST\", `http://${window.location.host}:5000/v1/login`);\n\t    let params = `email=${email}&pw=${pw}`\n\t    r.setRequestHeader(\"Content-Type\", 'application/x-www-form-urlencoded')\n\t    r.send(params);\n\n\t    r.onreadystatechange = () => {\n\t      if(r.readyState === XMLHttpRequest.DONE && r.status === 200) {\n\t          var resp = JSON.parse(r.responseText).result;\n\t          console.log(resp)\n\t          if (Object.keys(resp).includes(\"token\")) {\n\t          \tconsole.log('logged_in')\n\t          \tCookies.set('authToken', resp.token, {expires: 30, path: '/'})\n\t          \tCookies.set('user', resp.user, {expires: 30, path: '/'});\n\t          \twindow.location.href = this.redirect;\n\t          } else if (Object.keys(resp).includes(\"error\")){\n\t          \tlet container = document.querySelector(\"#error-container\")\n\t          \tcontainer.innerHTML = '';\n\t          \tlet msg = document.createTextNode(resp.error);\n\t          \tcontainer.appendChild(msg);\n\t          }\n\t      }\n\t    }\n\n\t}\n\n\trender() {\n\t\treturn (\n\t\t<div>\n\t\t\t<Navbar display_nav={false}/>\n\t\t\t<div class='col-sm-6 offset-sm-3'>\n\t\t\t\t<div>\n\t\t\t\t<div id=\"error-container\" class=\"col-8 offset-2\" style={{fontWeight: 700}}></div>\n\t\t\t      <form class=\"col-8 offset-2\">\n\t\t\t      \t<div class=\"form-group\">\n\t\t\t       \t\t<label>Email</label>\n\t\t\t       \t\t<input type=\"text\" class=\"form-control\" id=\"email\"/>\n\t\t\t        </div>\n\t\t\t        <div class=\"form-group\">\n\t\t\t        \t<label>Password</label>\n\t\t\t        \t<input type=\"password\" class=\"form-control\" id=\"pw\" />\n\t\t\t        </div>\n\t\t\t        <button class=\"btn btn-primary\" type=\"button\" onClick={this.handleSubmit} >Submit</button>\n\t\t\t      </form>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);}\n}\n\nexport default LoginForm;","import React, {Component}from 'react';\nimport {withRouter} from \"react-router\";\nimport Moment from \"react-moment\";\nimport Loading from '../Loading';\nimport Post from './Post';\nimport Navbar from'../Navbar/Navbar';\nimport './Post.css';\n\nclass PostContainer extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t}\n\n\tselectPost(post_id) {\n\t\tlet post_to_return = null;\n\t\tthis.props.posts.forEach((post) => {\n\t\t\tif (post_id == post.post_id) {\n\t\t\t\tpost_to_return = post;\n\t\t\t};\n\t\t}) \n\t\treturn post_to_return\n\t}\n\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t        <Navbar />\n\t\t        <br />\n\t\t        <div className=\"col-sm-6 offset-sm-3\">\n\t\t          <Post \n\t\t            post={this.selectPost(this.props.match.params.id)}\n\t\t            posts = {this.props.posts}\n\t\t          />\n\t\t        </div>\n\t\t    </div>\n\t\t)\n\t}\n}\n\n\n\nexport default withRouter(PostContainer);","import React, { Component } from 'react';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  useParams\n} from \"react-router-dom\";\nimport Navbar from './Navbar/Navbar';\nimport Post from './Post/Post';\nimport Feed from './Feed';\nimport Editor from './Editor/Editor';\nimport Login from './Login';\nimport Auth from '../utilities/Auth';\nimport PostContainer from'./Post/PostContainer';\n\nclass App extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      messages: [],\n      posts: []\n    }\n    this.flashMessage = this.flashMessage.bind(this);\n    this.removeFlashedMessage = this.removeFlashedMessage.bind(this);\n    this.loadPosts = this.loadPosts.bind(this);\n  }\n\n  flashMessage(message) {\n    var current_messages = this.state.messages;\n    current_messages.push(message)\n    this.setState({messages: current_messages})\n    window.setTimeout(() => {\n      this.removeFlashedMessage(message)}, 1000)\n  }\n\n  removeFlashedMessage(message) {\n    var i;\n    var current_messages = this.state.messages;\n    for (i=0; i < this.state.messages.length; i++) {\n      if (this.state.messages[i] == message) {\n        current_messages.pop(i);\n        this.setState({messages: current_messages})\n      }\n    }\n  }\n\n  loadPosts() {\n    var oReq = new XMLHttpRequest();\n    var x = new Auth();\n    oReq.open(\"GET\", `http://${window.location.host}:5000/v1/p/?publishedOnly=True`);\n    oReq.setRequestHeader('X-Auth-Token', x.get_token())\n    oReq.send();\n\n    oReq.onreadystatechange = () => {\n      if(oReq.readyState === XMLHttpRequest.DONE && oReq.status === 200) {\n          var posts = JSON.parse(oReq.responseText).result;\n          this.setState({'posts':posts});\n          console.log('loaded posts')\n      }\n    }\n  }\n\n  componentDidMount() {\n    this.loadPosts();\n  }\n  \n  render() {\n    return (\n      <Router>\n        <div className=\"App\" id=\"app\">\n          <div class='row'>\n            <div className='col-sm-10 offset-sm-1 col-md-8 offset-md-2 col-lg-4 offset-lg-4 text-center' id='flashed-messages'>\n              {this.state.messages.map((message, index) => \n                <div className=\"flashed-message\">{message}</div>\n              )}\n            </div>\n          </div>\n          <div className='container'>\n          <Switch>\n            <Route path=\"/login\">\n              <Login />\n            </Route>\n            <Route path=\"/p/:id\" children={\n              <PostContainer posts={this.state.posts} />\n            } />\n            <Route path=\"/editor\">\n              <Editor \n                flashMessage={this.flashMessage}\n              />\n            </Route>\n            <Route path=\"/\">\n              <Feed \n              posts={this.state.posts}\n              />\n            </Route>\n          </Switch>\n          </div>\n        </div>\n      </Router>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport './index.css'\n\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}